(this["webpackJsonprecipe-now"]=this["webpackJsonprecipe-now"]||[]).push([[0],{21:function(e,a,t){},23:function(e,a,t){},25:function(e,a,t){},26:function(e,a,t){},27:function(e,a,t){},28:function(e,a,t){},29:function(e,a,t){},30:function(e,a,t){},31:function(e,a,t){},32:function(e,a,t){"use strict";t.r(a);var r=t(6),c=t.n(r),n=t(2),i=(t(21),t(0)),s=t(3),o=t.n(s),u=t(4),l={API_KEY:"f538ef86a5af1ee5712af9cfeaf4df92",APP_ID:"542eed36",API_PROVIDER:"api.edamam.com",URL:void 0};l.URL="https://".concat(l.API_PROVIDER,"/api/recipes/v2?type=public&app_key=").concat(l.API_KEY,"&app_id=").concat(l.APP_ID);var d=l,p=t(5),j=Object(p.b)({name:"recipes",initialState:{searchQuery:!1,nextPageLink:!1,currentPage:0,totalPages:0,rawData:[],formattedRecipesList:[]},reducers:{addRawData:function(e,a){var t=a.payload.data;e.rawData.push(t),e.totalPages+=1},updateCurrentPage:function(e,a){var t=a.payload.newPage;if(e.currentPage=t,!e.rawData.length||!t)return console.log("No data to update");var r=e.rawData[t-1],c=r.hits.map((function(e,a){var t=e.recipe,r=t.label,c=t.image,n=t.healthLabels,i=t.totalTime,s=t.dietLabels,o=t.cuisineType,u=t.dishType,l=t.mealType,d=t.calories,p="loading";n.includes("Vegetarian")?p="veg":n.includes("Egg-Free")&&!n.includes("Vegetarian")?p="non-veg":n.includes("Egg-Free")||(p="egg");var j=[];return i&&j.push("".concat(i," mins")),j=j.concat(o||[]).concat(u||[]).concat(l||[]).concat(s||[]),d&&j.push("".concat(d.toFixed(0)," cal")),{id:"".concat(a),name:r,imgUrl:c,labels:j,foodType:p}}));e.formattedRecipesList=c;var n=r._links.next||{href:!1};e.nextPageLink=n.href},resetRecipesState:function(e){e.searchQuery=!1,e.nextPageLink=!1,e.currentPage=0,e.totalPages=0,e.rawData=[],e.formattedRecipesList=[]},updateSearchQuery:function(e,a){e.searchQuery=a.payload.searchQuery}}}),b=j.actions,g=j,f=Object(p.b)({name:"UI",initialState:{isRecipesLoading:!1},reducers:{setRecipeLoadingState:function(e,a){var t=a.payload.isLoading;e.isRecipesLoading=t},setErrorMessage:function(e,a){var t=a.payload.errorMessage,r=t.errorMessage,c=t.duration;e.errorMessage=r,setTimeout((function(){e.errorMessage=""}),c)}}}),h=f.actions,m=f,x=function(e){return function(){var a=Object(u.a)(o.a.mark((function a(t){var r,c;return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t(h.setRecipeLoadingState({isLoading:!0})),a.prev=1,a.next=4,fetch(e);case 4:if((r=a.sent).ok){a.next=7;break}throw new Error("Something went wrong");case 7:return a.next=9,r.json();case 9:(c=a.sent).hits.forEach((function(e){var a=e.recipe,t=a.label,r=a.image,c=a.healthLabels,n=a.totalTime,i=a.dietLabels,s=a.cuisineType,o=a.dishType,u=a.mealType,l=a.calories;e.recipe={label:t,image:r,healthLabels:c,totalTime:n,dietLabels:i,cuisineType:s,dishType:o,mealType:u,calories:l}})),t(b.addRawData({data:c})),t(h.setRecipeLoadingState({isLoading:!1})),a.next=19;break;case 15:a.prev=15,a.t0=a.catch(1),t(h.setErrorMessage(a.t0.message)),t(b.updateSearchQuery({searchQuery:!1}));case 19:case"end":return a.stop()}}),a,null,[[1,15]])})));return function(e){return a.apply(this,arguments)}}()},v=(t(23),t(1));var O=function(e){var a=Object(n.b)(),t=Object(i.useRef)(),r=function(){var e=Object(u.a)(o.a.mark((function e(r){var c,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.preventDefault(),c=d.URL,n=t.current.value.trim(),t.current.value="",n){e.next=6;break}return e.abrupt("return",console.log("Enter a valid query"));case 6:return a(b.resetRecipesState()),a(b.updateSearchQuery({searchQuery:n})),e.next=10,a(x("".concat(c,"&q=").concat(n)));case 10:a(b.updateCurrentPage({newPage:1}));case 11:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return Object(v.jsxs)("form",{onSubmit:r,children:[Object(v.jsx)("input",{ref:t,type:"text",className:"search-input",placeholder:"Search..."}),Object(v.jsx)("button",{className:"search-input-btn",type:"submit",children:Object(v.jsx)("i",{className:"fa fa-search"})})]})};t(25);var y=function(e){return Object(v.jsxs)("header",{className:"header",children:[Object(v.jsx)("h1",{className:"title",children:"Recipe Now"}),Object(v.jsx)(O,{})]})},P=t(10);t(26);var N=function(e){var a=e.padding;return Object(v.jsx)("div",{className:"card ".concat(e.className," ").concat(a&&"with-padding"),children:e.children})};t(27);var L=function(e){return Object(v.jsx)("div",{className:"badge ".concat(e.className),children:e.children})};t(28);var w=function(e){return Object(v.jsx)("div",{className:"food-type-mark ".concat(e.foodType),children:Object(v.jsx)("div",{className:"inner-circle"})})};t(29);var R=function(e){var a=e.imgUrl,t=e.foodType,r=e.labels,c=e.isLoading,n=e.name,s=[];return r&&(s=r.map((function(e){return Object(v.jsx)(L,{className:"recipe-tag",children:e},e+Math.random())}))),Object(v.jsxs)(N,{className:"recipe-list-item",children:[Object(v.jsx)("div",{className:"loader ".concat(c?"img_loader":"recipe-list-item__img"),style:c?{}:{backgroundImage:"url(".concat(a,")")}}),Object(v.jsx)("div",{className:"recipe-list-item-details",children:c?Object(v.jsxs)(i.Fragment,{children:[Object(v.jsx)("div",{className:"loader recipe-name-loader"}),Object(v.jsxs)("div",{className:"recipe-list-item__tags-container",children:[Object(v.jsx)("div",{className:"loader recipe-tag-loader tag-1"}),Object(v.jsx)("div",{className:"loader recipe-tag-loader tag-2"}),Object(v.jsx)("div",{className:"loader recipe-tag-loader tag-3"})]})]}):Object(v.jsxs)(i.Fragment,{children:[Object(v.jsx)("p",{className:"recipe-list-item__title",children:n}),0!==s.length&&Object(v.jsx)("div",{className:"recipe-list-item__tags-container",children:s})]})}),Object(v.jsx)(w,{className:"loader",foodType:c?"loading":t})]})};t(30);var k=function(e){var a=Object(n.b)(),t=Object(n.c)((function(e){return e.recipes})),r=t.currentPage,c=t.totalPages,i=t.nextPageLink,s=1===r,l=function(){var e=Object(u.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r>=c)){e.next=3;break}return e.next=3,a(x(i));case 3:a(b.updateCurrentPage({newPage:r+1}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(v.jsxs)("div",{className:"recipes-pagination",children:[Object(v.jsx)("button",{onClick:function(){if(1===r)return console.log("Invalid request");a(b.updateCurrentPage({newPage:r-1}))},disabled:s,className:"pagination-button badge",children:"Prev"}),Object(v.jsxs)(L,{children:["Page ",r]}),Object(v.jsx)("button",{onClick:l,disabled:!i,className:"pagination-button badge",children:"Next"})]})},_=(t(31),function(e){return e.trim().split(" ").map((function(e){return function(e){return e[0].toUpperCase()+e.slice(1)}(e)})).join(" ")});var T=function(e){var a,t=Object(n.c)((function(e){return e.recipes.formattedRecipesList})),r=Object(n.c)((function(e){return e.recipes.searchQuery})),c=Object(n.c)((function(e){return e.UI.isRecipesLoading}));if(c){a=[];for(var s=0;s<8;s++)a.push(Object(v.jsx)(R,{isLoading:!0},s))}else a=t.map((function(e){return Object(v.jsx)(R,Object(P.a)({isLoading:!1},e),e.id)}));return Object(v.jsxs)(i.Fragment,{children:[r&&Object(v.jsx)("center",{children:c?Object(v.jsxs)("h1",{className:c&&"dot-loading",children:["Searching for ",_(r)]}):Object(v.jsxs)("h1",{children:["Results for ",_(r)]})}),Object(v.jsx)("div",{className:"recipes-list ".concat(c&&"loading"),children:r&&a}),r&&Object(v.jsx)(k,{})]})};var I=function(){return Object(v.jsxs)(i.Fragment,{children:[Object(v.jsx)(y,{}),Object(v.jsx)(T,{})]})},S=Object(p.a)({reducer:{recipes:g.reducer,UI:m.reducer}});c.a.render(Object(v.jsx)(n.a,{store:S,children:Object(v.jsx)(I,{})}),document.getElementById("root"))}},[[32,1,2]]]);
//# sourceMappingURL=main.4166a771.chunk.js.map